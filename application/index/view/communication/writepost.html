{extend name="public/common"}

{block name="style"}
<title>发布新贴</title>
<style type="text/css">
    .content-box{
        border-bottom: 1px solid #e8e8e8;
        padding: 10px 18px;
    }
    .content-box textarea{
        width: 100%;
        height: 50vw;
        font-size: 15px;
        color: #333;
    }
    .img-box{
        border-bottom: 1px solid #e8e8e8;
        padding: 10px 18px 0;
    }
    .img-box ul{
        overflow: auto;
    }
    .img-box ul li{
        width: calc(20.8vw - 2px);
        height: calc(20.8vw - 2px);
        margin-right: calc((100% - 83.2vw) / 3);
        margin-bottom: 10px;
        float: left;
        position: relative;
        border: 1px dashed #e8e8e8;
    }
    .img-box ul li:nth-child(4n){
        margin-right: 0;
    }
    .img-box ul li>i{
        font-size: 12.8vw;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
    .img-box ul li>i::before{
        color: #e8e8e8;
    }
    .foot{
        width: calc(100% - 36px);
        line-height: 40px;
        margin: 60px auto 0;
        text-align: center;
        background: #69b9f9;
        color: #fff;
        font-size: 15px;
        border-radius: 4px;
    }
</style>
{/block}

{block name="body"}
<div id="app">
    <div class="content-box">
        <textarea placeholder="来到这里肯定想点说什么呢？"></textarea>
    </div>
    <div class="img-box">
        <ul>
            <li class="add">
                <i class="iconfont hc-jia"></i>
            </li>
        </ul>
    </div>
    <div class="foot">
        发布帖子
    </div>
</div>
{/block}

{block name="script"}
<script>
    $(function () {
        $(".add").on('click',function () {
            wx.chooseImage({
                count: 1, // 默认9
                sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有
                sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有
                success: function (res) {
                    var localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片
                    console.log(localIds)
                }
            });
        })
    })
</script>
{/block}